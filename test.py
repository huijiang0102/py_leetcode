import heapq


nums = [464685718, 476003622, 526439150, 516341991, 476562293, 543867758, 583071032, 517114033, 562165089, 500142232, 596168661, 554426955, 547517015, 430880846, 440967103, 523449818, 436280767, 499932141, 617428359, 505523489, 726943819, 525679891, 473553501, 681484711, 595850963, 799980108, 594094833, 539924884, 628320384, 622268744, 528073014, 586802293, 439295525, 707454747, 502789949, 500078034, 669167045, 499521038, 502574958, 508545802, 728536152, 835740262, 822418623, 528087670, 427408396, 496786971, 601518177, 748946057, 887766714, 746004787, 840127450, 826500519, 484182762, 726031364, 645347854, 737904107, 652188234, 788974390, 777568666, 894374165, 532329536, 591316179, 657922431, 791728192, 722321934, 628070245, 532649039, 746232675, 773470415, 560024710, 688574086, 570591835, 571486540, 763800679, 936509543, 637121029, 751072698, 725004503, 637940462, 511142630, 810641871, 927703510, 796580167, 987502657, 902024889, 935350805, 867224300, 875180639, 494500522, 850318675, 608776735, 595278518, 566211825, 702715827, 743532054, 817350101, 925270571, 887972091, 887985652, 821669329, 885902501, 886377448, 524957316, 976226904, 521681079, 710298150, 839594410, 739972377, 771761420, 977260520, 872357125, 807270791, 785108621, 910297865, 791481169, 937357732, 891469415, 844185784, 862627384, 996510761, 905333258, 742753900, 895063368, 866683784, 708006727, 854658689, 931706890, 987333029, 947609847, 822102918, 862972615, 913090935, 849385936, 763464891, 709087011, 924375752, 816289879, 856734759, 885295731, 647259579, 722463037, 947712914, 835500476, 707765235, 995333979, 598994537, 626979010, 510474410, 978084747, 897741295, 483422903, 954597719, 662128245, 910819821, 767145035, 812535217, 974593928, 924745989, 653662173, 974044557]
l = len(nums)
heapq.heapify(nums)
print(nums)


def del_ele_in_heap(heap, ele):
    # change heap internally O(lgn)
    i = heap.index(ele)
    heap[i], heap[-1] = heap[-1], heap[i]
    heap.pop()
    while i * 2 + 2 < len(heap):
        if heap[i] > min(heap[2*i+1], heap[2*i+2]):
            if heap[2*i+1] <= heap[2*i+2]:
                heap[i], heap[2*i+1] = heap[2*i+1], heap[i]
                i = 2*i+1
            else:
                heap[i], heap[2*i+2] = heap[2*i+2], heap[i]
                i = 2*i+2
        else:
            break
    if i*2+1 == len(heap)-1 and heap[i*2+1] < heap[i]:
        heap[i], heap[2*i+1] = heap[2*i+1], heap[i]

result = nums[:]
del_ele_in_heap(nums, 517114033)
del_ele_in_heap(nums, 476562293)
heapq.heappush(nums, 1234123412)
heapq.heappush(result, 1234123412)
result.remove(517114033)
result.remove(476562293)
heapq.heapify(result)
print(result)
print(nums)
num = 0

for i in range(len(nums)):
    if heapq.heappop(nums) != heapq.heappop(result):
        print("wrong")
    else:
        num += 1

print(num)

